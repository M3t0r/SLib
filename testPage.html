<html>
<head>
<title>SLib Test Site</title>
<script src="slib/main.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/animationBackend.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/animation/hideshow.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/animation/forms.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/filter.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/browser.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/ui/basics.js" charset="utf-8" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="slib/ui/defaultUi.css">
<script src="slib/dialog.js" charset="utf-8" type="text/javascript"></script>
<script src="slib/ajax.js" charset="utf-8" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body id="slib">
<div id="testPage1" class="">
	<p>
		A Paragraph<br>
		<input type="button" name="opacity" value="Deckkraft">
		<input type="button" name="dialog" value="Dialog">
		<input type="button" name="toggle" value="Toggle">
		<input type="button" name="fadered" value="Fade zu Rot">
		<input type="button" name="fadegreen" value="Fade zu Gr&uuml;n">
		<input type="button" name="ajax" value="Hole neuen Inhalt">
		<input type="button" name="ajaxDialog" value="Hole neuen Inhalt f&uuml;r Dialog"><br>
		<input type="text" name="redvalue">
		<input type="text" name="greenvalue">
		<input type="text" name="bluevalue">
		<input type="button" name="fade" value="Fade zu Eingabebox">
	</p>
</div>

<div id="testPage2" class="">
	<div id="testId">
		A test DIV with id, background should be purple<br>
		<input type="text" id="testInput">
	</div>
</div>
<script type="text/javascript">
buttons = $.byTag("input");
$.filter.byName(buttons, "opacity")[0].onclick = function() {
	if($.byId("testPage2").style.display == "none") {
		$.showByOpacity($.byId("testPage2"), 750);
		$.showByHeight($.byId("testPage2"), 750);
	} else {
		$.hideByOpacity($.byId("testPage2"), 750);
		$.hideByHeight($.byId("testPage2"), 750);
	}
};
$.filter.byName(buttons, "dialog")[0].onclick = function() {
	$.ui.newDialog("ein kleiner text", true);
};
$.filter.byName(buttons, "toggle")[0].onclick = function() {
	if($.byId("testPage2").style.display == "none")
		$.showByHeight($.byId("testPage2"));
	else
		$.hideByHeight($.byId("testPage2"));
};
$.filter.byName(buttons, "fadered")[0].onclick = function() {
	$.invalidateInput($.byId("testId"), 750);
};
$.filter.byName(buttons, "fadegreen")[0].onclick = function() {
	$.validateInput($.byId("testId"), 750);
};
$.filter.byName(buttons, "fade")[0].onclick = function() {
	var redInput   = $.filter.byName(buttons, "redvalue")[0];
	var greenInput = $.filter.byName(buttons, "greenvalue")[0];
	var blueInput  = $.filter.byName(buttons, "bluevalue")[0];
	var red   = parseInt(redInput.value);
	var green = parseInt(greenInput.value);
	var blue  = parseInt(blueInput.value);

	if(red > 255)
		$.invalidateInput(redInput);
	else
		$.validateInput(redInput);
	if(green > 255)
		$.invalidateInput(greenInput);
	else
		$.validateInput(greenInput);
	if(blue > 255)
		$.invalidateInput(blueInput);
	else
		$.validateInput(blueInput);

	$.invalidateInput($.byId("testId"), 1500, "rgb("+red+", "+green+", "+blue+")");

};

$.filter.byName(buttons, "ajax")[0].onclick = function() {
	var client = $.newHTTPRequest();
	client.open("GET", "./neuerTestInhalt.txt", true); // per GET und asynchron

	client.onreadystatechange = function() {
		if(this.readyState == 4) {
			$.byId("testId").innerHTML = this.responseText;
		}
	};

	client.send();
};

$.filter.byName(buttons, "ajaxDialog")[0].onclick = function() {
	var request = $.newHTTPRequest();
	request.open("GET", "./neuerTestInhalt.txt", true);
	request.onreadystatechange = function() {
		if(this.readyState == 4) {
			$.ui.newDialog(this.responseText, true);
		}
	};
	request.send();
};
</script>
</body>
</html>